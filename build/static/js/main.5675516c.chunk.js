(this.webpackJsonpgraduation_admin=this.webpackJsonpgraduation_admin||[]).push([[0],{187:function(e,t){},192:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),o=a(16),l=a(6),i=a(9),u=a(7),m=a(1),d=a(8),p=a(83),f=a.n(p),b="https://api.hicit-learning.me/api",E="https://api.hicit-learning.me",v="REDUX_PAGE_LOADERS",g="REDUX_PAGE_ERRORS",h="REDUX_CLEAR",y={email:/^([a-z0-9._]+)@([a-z0-9]+)\.([a-z]{3,4})$/,password:/^[a-z0-9A-Z]{8,}$/,name:/^[a-z0-9 ]{3,}$/,code:/^[0-9]+$/,phone:/^[0-9]+$/},O=a(2),N=a.n(O),j=a(5),x=a(10),w=a.n(x),k=function(e){var t=new FormData;for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];t.append("".concat(a),n)}return t},A=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol}}),(function(e){return{}}))((function(e){e.isRTL,e.symbol;var t=e.condition,a=e.children,n=e.effect,c=e.className;return r.a.createElement("div",{className:"loading-container ".concat(c),style:{width:n?"100%":"auto"}},t?r.a.createElement("div",{className:"loader ".concat(n?"mb-4":"")},r.a.createElement("i",{className:"fa fa-spinner fa-pulse"})):a)})),C=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{loginUser:function(t){return e((a=t,function(){var e=Object(j.a)(N.a.mark((function e(t,n){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{login:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/user/login",method:"PUT",data:k(a)});case 4:r=e.sent,t({type:"REDUX_USER",value:Object(m.a)({},r.data)}),t({type:g,value:{login:null}}),t({type:v,value:{login:!1}}),n().browseHistory.push("/dashboard"),e.next=21;break;case 11:if(e.prev=11,e.t0=e.catch(1),t({type:g,value:{login:!0}}),t({type:v,value:{login:!1}}),c=e.t0.response,console.log(c),!c||401!==c.status){e.next=20;break}return t({type:h}),e.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.pageLoaders,a=e.pageErrors,c=e.loginUser,s=Object(n.useState)({email:"",password:""}),o=Object(d.a)(s,2),l=o[0],i=o[1],p=Object(n.useState)({email:!1,password:!1}),b=Object(d.a)(p,2),E=b[0],v=b[1],g=function(e){var t=e.target.id,a=e.target.value;y[t].test(a)?v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!1))):v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!0))),i(Object(m.a)(Object(m.a)({},l),{},Object(u.a)({},t,a)))};return r.a.createElement("main",{className:"login-page"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){for(var t in E){if(E.hasOwnProperty(t))if(E[t])return!1}return!0}()&&c(Object(m.a)(Object(m.a)({},l),{},{role_id:3}))},className:"login-content-section"},r.a.createElement("h1",{className:"title"},"Login"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Email",id:"email",onChange:g,required:!0}),E.email&&r.a.createElement("div",{className:"text-error"},"must be like example@example.com")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Password",id:"password",required:!0,onChange:g}),E.password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters at least containing numbers and uppercases")),r.a.createElement(A,{condition:t.login},!0===a.login&&r.a.createElement("div",{className:"text-error"},"Failed to login"),a.login&&a.login.msg&&r.a.createElement("div",{className:"text-error"},a.login.msg),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))),r.a.createElement("div",{className:"login-img-section"},r.a.createElement("img",{src:f.a,alt:""})))})),D=a(3),L=a(13),_=function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{editInstitute:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/institute/edit",method:"PUT",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:c=a.sent,n({type:"REDUX_INSTITUTE",value:c.data}),l.b.success("Institute has been edited"),n({type:g,value:{editInstitute:!1}}),n({type:v,value:{editInstitute:!1}}),t({}),a.next=22;break;case 12:if(a.prev=12,a.t0=a.catch(1),n({type:g,value:{editInstitute:!0}}),n({type:v,value:{editInstitute:!1}}),s=a.t0.response,console.log(s),!s||401!==s.status){a.next=21;break}return n({type:h}),a.abrupt("return");case 21:s&&s.data&&l.b.error(s.data.message);case 22:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},S=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol,pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{instituteEdit:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(_(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.instituteEdit,s=e.pageErrors,o=e.pageLoaders;Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var l=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"edit institute")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:l},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",value:t.name,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))},required:!0}))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.editInstitute},!0===s.editInstitute&&r.a.createElement("div",{className:"text-error"},"Failed to edit institute"),s.editInstitute&&s.editInstitute.msg&&r.a.createElement("div",{className:"text-error"},s.editInstitute.msg),r.a.createElement("button",{className:"btn btn-primary center"},"edit")))))))})),U=function(e){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{getInstitute:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/institute/getAll",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_INSTITUTE",value:n.data}),t({type:g,value:{getInstitute:!1}}),t({type:v,value:{getInstitute:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{getInstitute:!0}}),t({type:v,value:{getInstitute:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},R=a(15),T=a.n(R),G=Object(i.b)((function(e){return{instituteArr:e.instituteArr,pageLoaders:e.pageLoaders}}),(function(e){return{instituteGet:function(t){return e(U())},instituteDelete:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{deleteInstitute:e}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/institute/remove",method:"DELETE",params:{id:e},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_DEPARTMENT",value:r.data}),l.b.success("Institute has been deleted"),a({type:g,value:{deleteInstitute:null}}),a({type:v,value:{deleteInstitute:null}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{deleteInstitute:!0}}),a({type:v,value:{deleteInstitute:null}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.instituteArr,a=e.pageLoaders,c=e.instituteGet,s=e.instituteDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all institutes |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getInstitute?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"name"},"name")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)}("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteInstitute===e.id},r.a.createElement("button",{onClick:function(t){return s(e.id)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("button",{onClick:function(t){return O(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available institutes")),y.id&&r.a.createElement(S,{editing:y,setEditing:O}))})),Y=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{instituteGet:function(t){return e(U())},instituteAdd:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{addInstitute:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/institute/add",method:"POST",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_INSTITUTE",value:r.data}),l.b.success("Institute added successfully"),a({type:g,value:{addInstitute:!1}}),a({type:v,value:{addInstitute:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{addInstitute:!0}}),a({type:v,value:{addInstitute:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.instituteGet,a=e.instituteAdd,c=e.pageLoaders,s=e.pageErrors,o=Object(n.useState)({name:""}),l=Object(d.a)(o,2),i=l[0],p=l[1];Object(n.useEffect)((function(){t()}),[]);return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),a(i)}},r.a.createElement("h1",{className:"title"},"add new institute"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))}})),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.addInstitute},!0===s.addInstitute&&r.a.createElement("div",{className:"text-error"},"Failed to add institute"),s.addInstitute&&s.addInstitute.msg&&r.a.createElement("div",{className:"text-error"},s.addInstitute.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(G,null)))})),H=function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{editDepartment:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/department/edit",method:"PUT",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:c=a.sent,n({type:"REDUX_DEPARTMENT",value:c.data}),l.b.success("Department has been edited"),n({type:g,value:{editDepartment:!1}}),n({type:v,value:{editDepartment:!1}}),t({}),a.next=22;break;case 12:if(a.prev=12,a.t0=a.catch(1),n({type:g,value:{editDepartment:!0}}),n({type:v,value:{editDepartment:!1}}),s=a.t0.response,console.log(s),!s||401!==s.status){a.next=21;break}return n({type:h}),a.abrupt("return");case 21:s&&s.data&&l.b.error(s.data.message);case 22:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},I=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol,pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,instituteArr:e.instituteArr}}),(function(e){return{departmentEdit:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(H(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.departmentEdit,s=e.pageErrors,o=e.pageLoaders,l=e.instituteArr,i=function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))};Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var d=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"edit department")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:d},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",value:t.name,onChange:i,required:!0})),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"institute_id",required:!0,onChange:i,value:t.institute_id},r.a.createElement("option",{value:""},"Choose institute"),l.length>=1&&l.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.editDepartment},!0===s.editDepartment&&r.a.createElement("div",{className:"text-error"},"Failed to edit department"),s.editDepartment&&s.editDepartment.msg&&r.a.createElement("div",{className:"text-error"},s.editDepartment.msg),r.a.createElement("button",{className:"btn btn-primary center"},"edit")))))))})),P=function(e){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{getDepartment:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/department/getAll",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_DEPARTMENT",value:n.data}),t({type:g,value:{getDepartment:!1}}),t({type:v,value:{getDepartment:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{getDepartment:!0}}),t({type:v,value:{getDepartment:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},q=Object(i.b)((function(e){return{departmentArr:e.departmentArr,pageLoaders:e.pageLoaders}}),(function(e){return{departmentGet:function(t){return e(P())},departmentDelete:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{deleteDepartment:e}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/department/remove",method:"DELETE",params:{id:e},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_DEPARTMENT",value:r.data}),l.b.success("Department has been deleted"),a({type:g,value:{deleteDepartment:null}}),a({type:v,value:{deleteDepartment:null}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{deleteDepartment:!0}}),a({type:v,value:{deleteDepartment:null}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.departmentArr,a=e.pageLoaders,c=e.departmentGet,s=e.departmentDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var N=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)};return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all departments |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getDepartment||a.getInstitute?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"name"},"name"),r.a.createElement("option",{value:"name"},"institute")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return N("institute_name",e)}},"insitute ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.institute_name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteDepartment===e.id},r.a.createElement("button",{onClick:function(t){return s(e.id)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("button",{onClick:function(t){return O(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available department")),y.id&&r.a.createElement(I,{editing:y,setEditing:O}))})),B=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,instituteArr:e.instituteArr}}),(function(e){return{departmentGet:function(t){return e(P())},instituteGet:function(t){return e(U())},departmentAdd:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{addDepartment:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/department/add",method:"POST",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_DEPARTMENT",value:r.data}),l.b.success("Department added successfully"),a({type:g,value:{addDepartment:!1}}),a({type:v,value:{addDepartment:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{addDepartment:!0}}),a({type:v,value:{addDepartment:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.departmentGet,a=e.departmentAdd,c=e.pageLoaders,s=e.pageErrors,o=e.instituteArr,l=e.instituteGet,i=Object(n.useState)({name:"",institute_id:""}),p=Object(d.a)(i,2),f=p[0],b=p[1];Object(n.useEffect)((function(){l(),t()}),[]);var E=function(e){var t=e.target.id,a=e.target.value;b(Object(m.a)(Object(m.a)({},f),{},Object(u.a)({},t,a)))};return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),a(f)}},r.a.createElement("h1",{className:"title"},"add new department"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:E})),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"institute_id",required:!0,onChange:E},r.a.createElement("option",{value:""},"Choose institute"),o.length>=1&&o.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.addDepartment},!0===s.addDepartment&&r.a.createElement("div",{className:"text-error"},"Failed to add department"),s.addDepartment&&s.addDepartment.msg&&r.a.createElement("div",{className:"text-error"},s.addDepartment.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(q,null)))})),X=function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{editGradeYear:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/gradeYear/edit",method:"PUT",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:c=a.sent,n({type:"REDUX_GRADE_YEAR",value:c.data}),l.b.success("Grade year has been edited"),n({type:g,value:{editGradeYear:!1}}),n({type:v,value:{editGradeYear:!1}}),t({}),a.next=22;break;case 12:if(a.prev=12,a.t0=a.catch(1),n({type:g,value:{editGradeYear:!0}}),n({type:v,value:{editGradeYear:!1}}),s=a.t0.response,console.log(s),!s||401!==s.status){a.next=21;break}return n({type:h}),a.abrupt("return");case 21:s&&s.data&&l.b.error(s.data.message);case 22:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},M=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol,pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{gradeYearEdit:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(X(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.gradeYearEdit,s=e.pageErrors,o=e.pageLoaders;Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var l=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"edit grade year")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:l},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",value:t.name,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))},required:!0}))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.editGradeYear},!0===s.editGradeYear&&r.a.createElement("div",{className:"text-error"},"Failed to edit grade year"),s.editGradeYear&&s.editGradeYear.msg&&r.a.createElement("div",{className:"text-error"},s.editGradeYear.msg),r.a.createElement("button",{className:"btn btn-primary center"},"edit")))))))})),z=function(e){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{getGradeYear:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/gradeYear/getAll",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_GRADE_YEAR",value:n.data}),t({type:g,value:{getGradeYear:!1}}),t({type:v,value:{getGradeYear:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{getGradeYear:!0}}),t({type:v,value:{getGradeYear:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},F=Object(i.b)((function(e){return{gradeYearArr:e.gradeYearArr,pageLoaders:e.pageLoaders}}),(function(e){return{gradeYearGet:function(t){return e(z())},gradeYearDelete:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{deleteGradeYear:e}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/gradeYear/remove",method:"DELETE",params:{id:e},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_GRADE_YEAR",value:r.data}),l.b.success("Grade year has been deleted"),a({type:g,value:{deleteGradeYear:null}}),a({type:v,value:{deleteGradeYear:null}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{deleteGradeYear:!0}}),a({type:v,value:{deleteGradeYear:null}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.gradeYearArr,a=e.pageLoaders,c=e.gradeYearGet,s=e.gradeYearDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all grade years |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getGradeYear?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"name"},"name")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)}("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteGradeYear===e.id},r.a.createElement("button",{onClick:function(t){return s(e.id)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("button",{onClick:function(t){return O(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available grade years")),y.id&&r.a.createElement(M,{editing:y,setEditing:O}))})),$=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{gradeYearGet:function(t){return e(z())},gradeYearAdd:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{addGradeYear:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/gradeYear/add",method:"POST",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_GRADE_YEAR",value:r.data}),l.b.success("Grade year added successfully"),a({type:g,value:{addGradeYear:!1}}),a({type:v,value:{addGradeYear:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{addGradeYear:!0}}),a({type:v,value:{addGradeYear:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.gradeYearGet,a=e.gradeYearAdd,c=e.pageLoaders,s=e.pageErrors,o=Object(n.useState)({name:""}),l=Object(d.a)(o,2),i=l[0],p=l[1];Object(n.useEffect)((function(){t()}),[]);return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),a(i)}},r.a.createElement("h1",{className:"title"},"add new grade year"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))}})),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.addGradeYear},!0===s.addGradeYear&&r.a.createElement("div",{className:"text-error"},"Failed to add grade year"),s.addGradeYear&&s.addGradeYear.msg&&r.a.createElement("div",{className:"text-error"},s.addGradeYear.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(F,null)))})),W=a(84),J=a.n(W),K=a(20),Z=Object(i.b)((function(e){return{browseHistory:e.browseHistory,userDetails:e.userDetails}}),(function(e){return{logoutUser:function(t){return e(function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{logout:!0}}),console.log(a().userDetails.token),e.prev=2,e.next=5,w()({baseURL:b,url:"/user/logout",method:"PUT",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 5:e.sent,t({type:"REDUX_USER",value:{}}),t({type:g,value:{logout:null}}),t({type:v,value:{logout:!1}}),a().browseHistory.push("/login"),e.next=22;break;case 12:if(e.prev=12,e.t0=e.catch(2),t({type:g,value:{logout:!0}}),t({type:v,value:{logout:!1}}),n=e.t0.response,console.log(n),!n||401!==n.status){e.next=21;break}return t({type:h}),e.abrupt("return");case 21:n&&n.data&&l.b.error(n.data.message);case 22:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){e.browseHistory;var t=e.userDetails,a=e.logoutUser,n=e.NoBTN;return r.a.createElement("header",{className:"navbar-container"},r.a.createElement("div",{className:"nav-info"},!n&&r.a.createElement("button",{className:"menu-toggler",onClick:function(e){var t=D(".menu-section"),a=D(".content-section");t.toggleClass("active"),a.toggleClass("active")}},r.a.createElement("i",{className:"fa fa-bars"})),r.a.createElement(K.b,{to:"/"},r.a.createElement("img",{src:J.a,alt:"",className:"logo-img"}))),r.a.createElement("div",{className:"nav-info"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"dropdown-toggler"},t.name," ",r.a.createElement("i",{className:"fa fa-caret-down"})),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(K.b,{className:"dropdown-item",to:"/my-profile"},"My Profile"),r.a.createElement("button",{className:"dropdown-item",onClick:a},"logout")))))})),Q=function(){var e=function(e){var t=D("#".concat(e,"-nesting")),a=D("#".concat(e,"-caret"));t.toggleClass("active"),t.hasClass("active")?(t.slideDown(),a.attr("class","fa fa-caret-up")):(t.slideUp(),a.attr("class","fa fa-caret-down"))},t=function(e){var t=D(".menu-section"),a=D(".content-section");t.toggleClass("active"),a.toggleClass("active")};return r.a.createElement("div",{className:"sidemenu"},r.a.createElement("div",{className:"sidemenu-list"},r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/institute",onClick:t},"institute")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/department",onClick:t},"department")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/gradeYear",onClick:t},"grade year")),r.a.createElement("div",{className:"sidemenu-list-item",onClick:function(t){return e("user")}},r.a.createElement("div",{className:"f-jbetween-acenter pointer"},r.a.createElement("button",{className:"list-item-text"},"user"),r.a.createElement("button",{className:"btn-transparent"},r.a.createElement("i",{className:"fa fa-caret-down",id:"user-caret"}))),r.a.createElement("div",{className:"nesting",id:"user-nesting"},r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/user/doctor",onClick:t},"doctor")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/user/assistant",onClick:t},"assistant")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/user/student",onClick:t},"student")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/user/admin",onClick:t},"admin")))),r.a.createElement("div",{className:"sidemenu-list-item",onClick:function(t){return e("course")}},r.a.createElement("div",{className:"f-jbetween-acenter pointer"},r.a.createElement("button",{className:"list-item-text"},"Course"),r.a.createElement("button",{className:"btn-transparent"},r.a.createElement("i",{className:"fa fa-caret-down",id:"course-caret"}))),r.a.createElement("div",{className:"nesting",id:"course-nesting"},r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/course/manage",onClick:t},"Manage Courses")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/course/assistants",onClick:t},"Courses Assistants")))),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/announcement",onClick:t},"announcement")),r.a.createElement("div",{className:"sidemenu-list-item"},r.a.createElement(K.b,{className:"list-item-text",to:"/dashboard/help",onClick:t},"help"))))},V=function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{getAllUsers:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/user/getAll",method:"GET",params:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_USERS",value:r.data}),a({type:g,value:{getAllUsers:!1}}),a({type:v,value:{getAllUsers:!1}}),t.next=20;break;case 10:if(t.prev=10,t.t0=t.catch(1),a({type:g,value:{getAllUsers:!0}}),a({type:v,value:{getAllUsers:!0}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=19;break}return a({type:h}),t.abrupt("return");case 19:c&&c.data&&l.b.error(c.data.message);case 20:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()},ee=function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{deleteUser:e.code}}),console.log(e),t.prev=2,t.next=5,w()({baseURL:b,url:"/user/remove",method:"DELETE",params:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 5:r=t.sent,a({type:"REDUX_USERS",value:r.data}),l.b.success("User has been deleted"),a({type:g,value:{deleteUser:!1}}),a({type:v,value:{deleteUser:null}}),t.next=22;break;case 12:if(t.prev=12,t.t0=t.catch(2),a({type:g,value:{deleteUser:!0}}),a({type:v,value:{deleteUser:null}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=21;break}return a({type:h}),t.abrupt("return");case 21:c&&c.data&&l.b.error(c.data.message);case 22:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},te=Object(i.b)((function(e){return{userArr:e.userArr,pageLoaders:e.pageLoaders}}),(function(e){return{usersGet:function(t){return e(V())},studentApprove:function(t,a){return e(function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{editStudentApprove:e}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/user/toggleApprove",method:"PUT",data:{code:e},headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:c=a.sent,n({type:"REDUX_USERS",value:c.data}),l.b.success("1"==t?"User has been disapproved":"User has been approved"),n({type:g,value:{editStudentApprove:null}}),n({type:v,value:{editStudentApprove:null}}),a.next=21;break;case 11:if(a.prev=11,a.t0=a.catch(1),n({type:g,value:{editStudentApprove:!0}}),n({type:v,value:{editStudentApprove:null}}),s=a.t0.response,console.log(s),!s||401!==s.status){a.next=20;break}return n({type:h}),a.abrupt("return");case 20:s&&s.data&&l.b.error(s.data.message);case 21:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,a))},userDelete:function(t){return e(ee(t))}}}))((function(e){var t=e.userArr,a=e.pageLoaders,c=e.usersGet,s=e.userDelete,o=e.studentApprove,l=Object(n.useState)([]),i=Object(d.a)(l,2),p=i[0],f=i[1],b=Object(n.useState)({type:"",text:""}),E=Object(d.a)(b,2),v=E[0],g=E[1],h=Object(n.useState)({}),y=Object(d.a)(h,2);y[0],y[1];Object(n.useEffect)((function(){f(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var O=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(p,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(p,(function(t){return t[e]})).reverse()),f(a)};return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all students |"," ",r.a.createElement("button",{onClick:function(e){return c({role_id:0})}},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getAllUsers?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),v.text&&v.type){var a=t.filter((function(e){return e[v.type].toString().toLowerCase().includes(v.text.toLowerCase())}));f(a)}else v.type?v.text||(D("#text").focus(),f(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;g(Object(m.a)(Object(m.a)({},v),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return g(Object(m.a)(Object(m.a)({},v),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"code"},"code"),r.a.createElement("option",{value:"name"},"name"),r.a.createElement("option",{value:"department_name"},"department"),r.a.createElement("option",{value:"grade_year_name"},"grade year")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return O("name",e)}},"code ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return O("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return O("name",e)}},"Department ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return O("name",e)}},"Grade Year ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return O("is_approved",e)}},"Action ",r.a.createElement("i",{className:"fa fa-arrow-up"})))),r.a.createElement("tbody",null,p.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.department_name),r.a.createElement("td",null,e.grade_year_name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteUser===e.code},r.a.createElement("button",{onClick:function(t){return s({code:e.code,role_id:0})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement(A,{effect:!1,condition:a.editStudentApprove===e.code},r.a.createElement("button",{style:{color:e.is_approved?"#fcbb3b":"#ddd"},onClick:function(t){return o(e.code,e.is_approved)}},r.a.createElement("i",{className:"fa fa-check-circle"})))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available students")))})),ae=function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{register:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/user/register",method:"POST",data:k(e)});case 4:return t.sent,t.next=7,w()({baseURL:b,url:"/user/getAll",method:"GET",params:{role_id:e.role_id}});case 7:r=t.sent,a({type:"REDUX_USERS",value:r.data}),a({type:g,value:{register:!1}}),a({type:v,value:{register:!1}}),t.next=23;break;case 13:if(t.prev=13,t.t0=t.catch(1),a({type:g,value:{register:!0}}),a({type:v,value:{register:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=22;break}return a({type:h}),t.abrupt("return");case 22:c&&c.data&&l.b.error(c.data.message);case 23:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,a){return t.apply(this,arguments)}}()},ne=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,gradeYearArr:e.gradeYearArr,departmentArr:e.departmentArr}}),(function(e){return{usersGetAll:function(t){return e(V(t))},departmentGet:function(){return e(P())},gradeYearGet:function(){return e(z())},registerUser:function(t){return e(ae(t))}}}))((function(e){var t=e.usersGetAll,a=e.pageLoaders,c=e.pageErrors,s=e.registerUser,o=e.gradeYearArr,l=e.departmentArr,i=e.departmentGet,p=e.gradeYearGet,f=Object(n.useState)({code:"",name:"",phone:"",email:"",password:"",grade_year_id:"",department_id:"",role_id:0}),b=Object(d.a)(f,2),E=b[0],v=b[1];Object(n.useEffect)((function(){t({role_id:0}),i(),p()}),[]);var g=Object(n.useState)({email:!1,code:!1,name:!1,password:!1,phone:!1}),h=Object(d.a)(g,2),O=h[0],N=h[1],j=function(e){var t=e.target.id,a=e.target.value;y[t].test(a)?N(Object(m.a)(Object(m.a)({},O),{},Object(u.a)({},t,!1))):N(Object(m.a)(Object(m.a)({},O),{},Object(u.a)({},t,!0))),v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))},x=function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))};return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),function(e){for(var t in O){if(O.hasOwnProperty(t))if(O[t])return!1}return!0}()&&s(E)}},r.a.createElement("h1",{className:"title"},"add new student"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Code",id:"code",required:!0,onChange:j}),O.code&&r.a.createElement("div",{className:"text-error"},"must be numbers only")),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:x})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Phone",id:"phone",required:!0,onChange:j}),O.phone&&r.a.createElement("div",{className:"text-error"},"must be numbers only"))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Email",id:"email",required:!0,onChange:j}),O.email&&r.a.createElement("div",{className:"text-error"},"must be like example@example.com")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Password",id:"password",required:!0,onChange:j}),O.password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters containing numbers and uppercases"))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"department_id",required:!0,onChange:x},r.a.createElement("option",{value:""},"Choose department"),l.length>=1&&l.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"grade_year_id",required:!0,onChange:x},r.a.createElement("option",{value:""},"Choose grade year"),o.length>=1&&o.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:a.register},!0===c.register&&r.a.createElement("div",{className:"text-error"},"Failed to add student"),c.register&&c.register.msg&&r.a.createElement("div",{className:"text-error"},c.register.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(te,null)))})),re=Object(i.b)((function(e){return{userArr:e.userArr,pageLoaders:e.pageLoaders}}),(function(e){return{usersGet:function(t){return e(V())},userDelete:function(t){return e(ee(t))}}}))((function(e){var t=e.userArr,a=e.pageLoaders,c=e.usersGet,s=e.userDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var g=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)};return console.log(i),r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all doctors |"," ",r.a.createElement("button",{onClick:function(e){return c({role_id:2})}},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getAllUsers?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"code"},"code"),r.a.createElement("option",{value:"name"},"name")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return g("name",e)}},"code ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return g("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return g("is_approved",e)}},"Action ",r.a.createElement("i",{className:"fa fa-arrow-up"})))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteUser===e.code},r.a.createElement("button",{onClick:function(t){return s({code:e.code,role_id:2})}},r.a.createElement("i",{className:"fa fa-close"})))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available Doctors")))})),ce=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,gradeYearArr:e.gradeYearArr,departmentArr:e.departmentArr}}),(function(e){return{usersGetAll:function(t){return e(V(t))},registerUser:function(t){return e(ae(t))}}}))((function(e){var t=e.usersGetAll,a=e.pageLoaders,c=e.pageErrors,s=e.registerUser,o=Object(n.useState)({code:"",name:"",phone:"",email:"",password:"",role_id:2}),l=Object(d.a)(o,2),i=l[0],p=l[1];Object(n.useEffect)((function(){t({role_id:2})}),[]);var f=Object(n.useState)({email:!1,code:!1,name:!1,password:!1,phone:!1}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=function(e){var t=e.target.id,a=e.target.value;y[t].test(a)?v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!1))):v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!0))),p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))};return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),function(e){for(var t in E){if(E.hasOwnProperty(t))if(E[t])return!1}return!0}()&&s(i)}},r.a.createElement("h1",{className:"title"},"add new doctor"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Code",id:"code",required:!0,onChange:g}),E.code&&r.a.createElement("div",{className:"text-error"},"must be numbers only")),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))}})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Phone",id:"phone",required:!0,onChange:g}),E.phone&&r.a.createElement("div",{className:"text-error"},"must be numbers only"))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Email",id:"email",required:!0,onChange:g}),E.email&&r.a.createElement("div",{className:"text-error"},"must be like example@example.com")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Password",id:"password",required:!0,onChange:g}),E.password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters containing numbers and uppercases"))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:a.register},!0===c.register&&r.a.createElement("div",{className:"text-error"},"Failed to add doctor"),c.register&&c.register.msg&&r.a.createElement("div",{className:"text-error"},c.register.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(re,null)))})),se=Object(i.b)((function(e){return{userArr:e.userArr,pageLoaders:e.pageLoaders}}),(function(e){return{usersGet:function(t){return e(V())},userDelete:function(t){return e(ee(t))}}}))((function(e){var t=e.userArr,a=e.pageLoaders,c=e.usersGet,s=e.userDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var g=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)};return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all assistant |"," ",r.a.createElement("button",{onClick:function(e){return c({role_id:1})}},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getAllUsers?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"code"},"code"),r.a.createElement("option",{value:"name"},"name")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return g("name",e)}},"code ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return g("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return g("is_approved",e)}},"Action ",r.a.createElement("i",{className:"fa fa-arrow-up"})))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteUser===e.code},r.a.createElement("button",{onClick:function(t){return s({code:e.code,role_id:2})}},r.a.createElement("i",{className:"fa fa-close"})))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available assistants")))})),oe=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,gradeYearArr:e.gradeYearArr,departmentArr:e.departmentArr}}),(function(e){return{usersGetAll:function(t){return e(V(t))},registerUser:function(t){return e(ae(t))}}}))((function(e){var t=e.usersGetAll,a=e.pageLoaders,c=e.pageErrors,s=e.registerUser,o=Object(n.useState)({code:"",name:"",phone:"",email:"",password:"",role_id:1}),l=Object(d.a)(o,2),i=l[0],p=l[1];Object(n.useEffect)((function(){t({role_id:1})}),[]);var f=Object(n.useState)({email:!1,code:!1,name:!1,password:!1,phone:!1}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=function(e){var t=e.target.id,a=e.target.value;y[t].test(a)?v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!1))):v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!0))),p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))};return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),function(e){for(var t in E){if(E.hasOwnProperty(t))if(E[t])return!1}return!0}()&&s(i)}},r.a.createElement("h1",{className:"title"},"add new assistant"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Code",id:"code",required:!0,onChange:g}),E.code&&r.a.createElement("div",{className:"text-error"},"must be numbers only")),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))}})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Phone",id:"phone",required:!0,onChange:g}),E.phone&&r.a.createElement("div",{className:"text-error"},"must be numbers only"))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Email",id:"email",required:!0,onChange:g}),E.email&&r.a.createElement("div",{className:"text-error"},"must be like example@example.com")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Password",id:"password",required:!0,onChange:g}),E.password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters containing numbers and uppercases"))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:a.register},!0===c.register&&r.a.createElement("div",{className:"text-error"},"Failed to add assistant"),c.register&&c.register.msg&&r.a.createElement("div",{className:"text-error"},c.register.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(se,null)))})),le=Object(i.b)((function(e){return{userArr:e.userArr,pageLoaders:e.pageLoaders,userDetails:e.userDetails}}),(function(e){return{usersGet:function(t){return e(V())},userDelete:function(t){return e(ee(t))}}}))((function(e){var t=e.userArr,a=e.pageLoaders,c=e.usersGet,s=e.userDelete,o=e.userDetails,l=Object(n.useState)([]),i=Object(d.a)(l,2),p=i[0],f=i[1],b=Object(n.useState)({type:"",text:""}),E=Object(d.a)(b,2),v=E[0],g=E[1];Object(n.useEffect)((function(){f(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var h=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(p,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(p,(function(t){return t[e]})).reverse()),f(a)};return console.log(p),r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all admins |"," ",r.a.createElement("button",{onClick:function(e){return c({role_id:3})}},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getAllUsers?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),v.text&&v.type){var a=t.filter((function(e){return e[v.type].toString().toLowerCase().includes(v.text.toLowerCase())}));f(a)}else v.type?v.text||(D("#text").focus(),f(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;g(Object(m.a)(Object(m.a)({},v),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return g(Object(m.a)(Object(m.a)({},v),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"code"},"code"),r.a.createElement("option",{value:"name"},"name")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return h("name",e)}},"code ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return h("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return h("is_approved",e)}},"Action ",r.a.createElement("i",{className:"fa fa-arrow-up"})))),r.a.createElement("tbody",null,p.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),e.code!==o.code&&r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteUser===e.code},r.a.createElement("button",{onClick:function(t){return s({code:e.code,role_id:3})}},r.a.createElement("i",{className:"fa fa-close"})))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available admins")))})),ie=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,gradeYearArr:e.gradeYearArr,departmentArr:e.departmentArr}}),(function(e){return{usersGetAll:function(t){return e(V(t))},registerUser:function(t){return e(ae(t))}}}))((function(e){var t=e.usersGetAll,a=e.pageLoaders,c=e.pageErrors,s=e.registerUser,o=Object(n.useState)({code:"",name:"",phone:"",email:"",password:"",role_id:3}),l=Object(d.a)(o,2),i=l[0],p=l[1];Object(n.useEffect)((function(){t({role_id:3})}),[]);var f=Object(n.useState)({email:!1,code:!1,name:!1,password:!1,phone:!1}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=function(e){var t=e.target.id,a=e.target.value;y[t].test(a)?v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!1))):v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,!0))),p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))};return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),function(e){for(var t in E){if(E.hasOwnProperty(t))if(E[t])return!1}return!0}()&&s(i)}},r.a.createElement("h1",{className:"title"},"add new admin"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Code",id:"code",required:!0,onChange:g}),E.code&&r.a.createElement("div",{className:"text-error"},"must be numbers only")),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))}})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Phone",id:"phone",required:!0,onChange:g}),E.phone&&r.a.createElement("div",{className:"text-error"},"must be numbers only"))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Email",id:"email",required:!0,onChange:g}),E.email&&r.a.createElement("div",{className:"text-error"},"must be like example@example.com")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Password",id:"password",required:!0,onChange:g}),E.password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters containing numbers and uppercases"))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:a.register},!0===c.register&&r.a.createElement("div",{className:"text-error"},"Failed to add admin"),c.register&&c.register.msg&&r.a.createElement("div",{className:"text-error"},c.register.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(le,null)))})),ue=function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{editCourse:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/course/edit",method:"PUT",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:c=a.sent,n({type:"REDUX_COURSE",value:c.data}),l.b.success("Course has been edited"),n({type:g,value:{editCourse:!1}}),n({type:v,value:{editCourse:!1}}),t({}),a.next=22;break;case 12:if(a.prev=12,a.t0=a.catch(1),n({type:g,value:{editCourse:!0}}),n({type:v,value:{editCourse:!1}}),s=a.t0.response,console.log(s),!s||401!==s.status){a.next=21;break}return n({type:h}),a.abrupt("return");case 21:s&&s.data&&l.b.error(s.data.message);case 22:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},me=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,userArr:e.userArr,departmentArr:e.departmentArr,gradeYearArr:e.gradeYearArr}}),(function(e){return{courseEdit:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(ue(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.courseEdit,s=e.pageErrors,o=e.pageLoaders,l=e.userArr,i=e.departmentArr,d=e.gradeYearArr,p=function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))};Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var f=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"edit course")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:f},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",value:t.name,required:!0,onChange:p})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Total mark",id:"total_mark",value:t.total_mark,required:!0,onChange:p}))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"doctor_code",required:!0,onChange:p,value:t.doctor_code},r.a.createElement("option",{value:""},"Choose doctor"),l.length>=1&&l.map((function(e){return r.a.createElement("option",{value:e.code,key:e.code},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"department_id",required:!0,onChange:p,value:t.department_id},r.a.createElement("option",{value:""},"Choose department"),i.length>=1&&i.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"grade_year_id",required:!0,onChange:p,value:t.grade_year_id},r.a.createElement("option",{value:""},"Choose grade year"),d.length>=1&&d.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.editCourse},!0===s.editCourse&&r.a.createElement("div",{className:"text-error"},"Failed to edit course"),s.editCourse&&s.editCourse.msg&&r.a.createElement("div",{className:"text-error"},s.editCourse.msg),r.a.createElement("button",{className:"btn btn-primary center"},"edit")))))))})),de=function(e){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{getCourse:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/course/getAll",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_COURSE",value:n.data}),t({type:g,value:{getCourse:!1}}),t({type:v,value:{getCourse:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{getCourse:!0}}),t({type:v,value:{getCourse:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},pe=Object(i.b)((function(e){return{courseArr:e.courseArr,pageLoaders:e.pageLoaders}}),(function(e){return{courseGet:function(t){return e(de())},courseDelete:function(t){return e((a=t,function(){var e=Object(j.a)(N.a.mark((function e(t,n){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{deleteCourse:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/course/remove",method:"DELETE",params:{code:a},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=e.sent,t({type:"REDUX_COURSE",value:r.data}),l.b.success("Course has been deleted"),t({type:g,value:{deleteCourse:!1}}),t({type:v,value:{deleteCourse:!1}}),e.next=21;break;case 11:if(e.prev=11,e.t0=e.catch(1),t({type:g,value:{deleteCourse:!0}}),t({type:v,value:{deleteCourse:!1}}),c=e.t0.response,console.log(c),!c||401!==c.status){e.next=20;break}return t({type:h}),e.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.courseArr,a=e.pageLoaders,c=e.courseGet,s=e.courseDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var N=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)};return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all courses |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getCourse||a.getDepartment||a.getGradeYear||a.getAllUsers?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"code"},"code"),r.a.createElement("option",{value:"name"},"name"),r.a.createElement("option",{value:"doctor_name"},"doctor"),r.a.createElement("option",{value:"department_name"},"department"),r.a.createElement("option",{value:"grade_year_name"},"grade year")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Code ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Doctor ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Department ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Grade Year ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.doctor_name),r.a.createElement("td",null,e.department_name),r.a.createElement("td",null,e.grade_year_name),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteCourse===e.code},r.a.createElement("button",{onClick:function(t){return s(e.code)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("button",{onClick:function(t){return O(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available courses")),y.code&&r.a.createElement(me,{editing:y,setEditing:O}))})),fe=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,userArr:e.userArr,departmentArr:e.departmentArr,gradeYearArr:e.gradeYearArr}}),(function(e){return{courseGet:function(t){return e(de())},departmentGet:function(t){return e(P())},gradeYearGet:function(t){return e(z())},usersGetAll:function(t){return e(V(t))},courseAdd:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{addCourse:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/course/add",method:"POST",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_COURSE",value:r.data}),l.b.success("Course Added successfully"),a({type:g,value:{addCourse:!1}}),a({type:v,value:{addCourse:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{addCourse:!0}}),a({type:v,value:{addCourse:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.courseGet,a=e.courseAdd,c=e.pageLoaders,s=e.pageErrors,o=e.departmentGet,l=e.departmentArr,i=e.gradeYearGet,p=e.gradeYearArr,f=e.userArr,b=e.usersGetAll,E=Object(n.useState)({name:"",code:"",total_mark:"",grade_year_id:"",department_id:"",doctor_code:""}),v=Object(d.a)(E,2),g=v[0],h=v[1];Object(n.useEffect)((function(){t(),o(),i(),b({role_id:2})}),[]);var y=function(e){var t=e.target.id,a=e.target.value;h(Object(m.a)(Object(m.a)({},g),{},Object(u.a)({},t,a)))};return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),a(g)}},r.a.createElement("h1",{className:"title"},"add new course"),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Code",id:"code",required:!0,onChange:y})),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:y})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Total mark",id:"total_mark",required:!0,onChange:y}))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"doctor_code",required:!0,onChange:y},r.a.createElement("option",{value:""},"Choose doctor"),f.length>=1&&f.map((function(e){return r.a.createElement("option",{value:e.code,key:e.code},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"department_id",required:!0,onChange:y},r.a.createElement("option",{value:""},"Choose department"),l.length>=1&&l.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"grade_year_id",required:!0,onChange:y},r.a.createElement("option",{value:""},"Choose grade year"),p.length>=1&&p.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.addCourse},!0===s.addCourse&&r.a.createElement("div",{className:"text-error"},"Failed to add course"),s.addCourse&&s.addCourse.msg&&r.a.createElement("div",{className:"text-error"},s.addCourse.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(pe,null)))})),be=a(91),Ee=a(85),ve=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,userArr:e.userArr,departmentArr:e.departmentArr,gradeYearArr:e.gradeYearArr}}),(function(e){return{courseEdit:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(ue(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.courseEdit,s=e.pageErrors,o=e.pageLoaders,l=e.userArr,i=e.departmentArr,d=e.gradeYearArr,p=function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))};Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var f=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"edit course")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:f},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",value:t.name,required:!0,onChange:p})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Total mark",id:"total_mark",value:t.total_mark,required:!0,onChange:p}))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"doctor_code",required:!0,onChange:p,value:t.doctor_code},r.a.createElement("option",{value:""},"Choose doctor"),l.length>=1&&l.map((function(e){return r.a.createElement("option",{value:e.code,key:e.code},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"department_id",required:!0,onChange:p,value:t.department_id},r.a.createElement("option",{value:""},"Choose department"),i.length>=1&&i.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{id:"grade_year_id",required:!0,onChange:p,value:t.grade_year_id},r.a.createElement("option",{value:""},"Choose grade year"),d.length>=1&&d.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.editCourse},!0===s.editCourse&&r.a.createElement("div",{className:"text-error"},"Failed to edit course"),s.editCourse&&s.editCourse.msg&&r.a.createElement("div",{className:"text-error"},s.editCourse.msg),r.a.createElement("button",{className:"btn btn-primary center"},"edit")))))))})),ge=function(e){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{listAll:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/course/listAll",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_ALL_COURSES_ASSISTANTS",value:n.data}),t({type:g,value:{listAll:!1}}),t({type:v,value:{listAll:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{listAll:!0}}),t({type:v,value:{listAll:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},he=Object(i.b)((function(e){return{allCoursesAssistants:e.allCoursesAssistants,pageLoaders:e.pageLoaders}}),(function(e){return{allList:function(t){return e(ge())},assistantsUnassignment:function(t){return e((a=t,function(){var e=Object(j.a)(N.a.mark((function e(t,n){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{unassignAssistants:a}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/course/unassignAssistant",method:"DELETE",params:{course_code:a},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=e.sent,t({type:"REDUX_ALL_COURSES_ASSISTANTS",value:r.data}),l.b.success("Assistant has been unassigned"),t({type:g,value:{unassignAssistants:null}}),t({type:v,value:{unassignAssistants:!1}}),e.next=21;break;case 11:if(e.prev=11,e.t0=e.catch(1),t({type:g,value:{unassignAssistants:!0}}),t({type:v,value:{unassignAssistants:null}}),c=e.t0.response,console.log(c),!c||401!==c.status){e.next=20;break}return t({type:h}),e.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.allCoursesAssistants,a=e.pageLoaders,c=e.allList,s=e.assistantsUnassignment,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var N=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)};return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all courses with assistants |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.listAll||a.unassignAssistants?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=t.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"code"},"code"),r.a.createElement("option",{value:"course_name"},"course name")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Code ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return N("name",e)}},"Name ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"Assistants"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.course_code),r.a.createElement("td",null,e.course_name),r.a.createElement("td",null,r.a.createElement("div",{className:"flex-column"},e.assistants.map((function(e){return r.a.createElement("span",null,e.assistant_name)})))),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.unassignAssistants===e.course_code},r.a.createElement("button",{onClick:function(t){return s(e.course_code)}},r.a.createElement("i",{className:"fa fa-close"})))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no assistants assigned to courses")),y.code&&r.a.createElement(ve,{editing:y,setEditing:O}))})),ye=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,userArr:e.userArr,courseArr:e.courseArr,courseAssistants:e.courseAssistants}}),(function(e){return{courseGet:function(t){return e(de())},usersGetAll:function(t){return e(V(t))},assistantAssign:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{assignAssistants:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/course/assignAssistant",method:"PUT",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_ALL_COURSES_ASSISTANTS",value:r.data}),l.b.success("Assistants assigned successfully"),a({type:g,value:{assignAssistants:!1}}),a({type:v,value:{assignAssistants:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{assignAssistants:!0}}),a({type:v,value:{assignAssistants:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},assistantList:function(t){return e((a=t,function(){var e=Object(j.a)(N.a.mark((function e(t,n){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{listAssistants:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/course/listAssistants",method:"GET",params:{course_code:a},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=e.sent,t({type:"REDUX_COURSE_ASSISTANT",value:r.data}),t({type:g,value:{listAssistants:!1}}),t({type:v,value:{listAssistants:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{listAssistants:!0}}),t({type:v,value:{listAssistants:!0}}),c=e.t0.response,console.log(c),!c||401!==c.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:c&&c.data&&l.b.error(c.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()));var a},allList:function(){return e(ge())}}}))((function(e){var t=e.courseGet,a=e.assistantAssign,c=e.pageLoaders,s=e.pageErrors,o=e.courseArr,l=e.userArr,i=e.usersGetAll,p=e.assistantList,f=e.courseAssistants,b=e.allList,E=Object(n.useState)({course_code:"",assistant_codes:[]}),v=Object(d.a)(E,2),g=v[0],h=v[1];Object(n.useEffect)((function(){t(),i({role_id:1}),b()}),[]),Object(n.useEffect)((function(){if(f.length>=1){var e=f.map((function(e){return{value:e.assistant_code,label:e.name}}));h(Object(m.a)(Object(m.a)({},g),{},{assistant_codes:e}))}}),[f]);var y,O,N,j=Object(Ee.a)();return console.log(g),r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault();var t={course_code:g.course_code,assistant_codes:g.assistant_codes.map((function(e){return e.value}))};a(t)}},r.a.createElement("h1",{className:"title"},"Assign Assistant"),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("select",Object(u.a)({id:"course_code",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(a),h(Object(m.a)(Object(m.a)({},g),{},Object(u.a)({},t,a)))}},"required",!0),r.a.createElement("option",{value:""},"Choose course"),o.length>=1&&o.map((function(e){return r.a.createElement("option",{value:e.code,key:e.id},e.name)})))),r.a.createElement("div",{className:"form-control"},r.a.createElement(be.a,{closeMenuOnSelect:!1,components:j,isMulti:!0,value:g.assistant_codes,onChange:function(e){h(Object(m.a)(Object(m.a)({},g),{},{assistant_codes:e}))},options:(y=l,O="code",N="name",y.map((function(e){return{value:e[O],label:e[N]}}))),placeholder:"Choose assistants",className:"custom-select"}))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.assignAssistants},!0===s.assignAssistants&&r.a.createElement("div",{className:"text-error"},"Failed to assign assistants"),s.assignAssistants&&s.assignAssistants.msg&&r.a.createElement("div",{className:"text-error"},s.assignAssistants.msg),r.a.createElement("button",{className:"btn btn-primary center"},"Assign")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(he,null)))})),Oe=function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{editAnnouncement:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/announcement/edit",method:"PUT",data:k(e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:c=a.sent,n({type:"REDUX_ANNOUNCEMENT",value:c.data}),l.b.success("Announcement has been edited"),n({type:g,value:{editAnnouncement:!1}}),n({type:v,value:{editAnnouncement:!1}}),t({}),a.next=22;break;case 12:if(a.prev=12,a.t0=a.catch(1),n({type:g,value:{editAnnouncement:!0}}),n({type:v,value:{editAnnouncement:!1}}),s=a.t0.response,console.log(s),!s||401!==s.status){a.next=21;break}return n({type:h}),a.abrupt("return");case 21:s&&s.data&&l.b.error(s.data.message);case 22:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},Ne=(a(66),Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol,pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{announcementEdit:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(Oe(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.announcementEdit,s=e.pageErrors,o=e.pageLoaders,l=function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))},i=Object(n.useRef)(null),d=t.imageText?t.imageText:"".concat(E,"/").concat(t.image);Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var p=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"edit announcement")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:p},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"picture-container"},r.a.createElement("div",{className:"picture-content"},r.a.createElement("img",{src:d,alt:""}),r.a.createElement("input",{type:"file",ref:i,style:{display:"none"},accept:"imageText/*",onChange:function(e){var n=e.target.files[0];if(n){var r=new FileReader;r.onloadend=Object(j.a)(N.a.mark((function e(){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.result,a(Object(m.a)(Object(m.a)({},t),{},{imageText:c,image:n}));case 2:case"end":return e.stop()}}),e)}))),r.readAsDataURL(n)}}}),r.a.createElement("div",{className:"img-overlay"},r.a.createElement("button",{type:"button",onClick:function(e){return i.current.click()}},"upload")))),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Title",id:"title",required:!0,value:t.title,onChange:l})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Text",id:"text",required:!0,value:t.text,onChange:l})))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.editAnnouncement},!0===s.editAnnouncement&&r.a.createElement("div",{className:"text-error"},"Failed to edit announcement"),s.editAnnouncement&&s.editAnnouncement.msg&&r.a.createElement("div",{className:"text-error"},s.editAnnouncement.msg),r.a.createElement("button",{className:"btn btn-primary center"},"edit")))))))}))),je=function(e){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{getAnnouncement:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/announcement/getAll",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_ANNOUNCEMENT",value:n.data}),t({type:g,value:{getAnnouncement:!1}}),t({type:v,value:{getAnnouncement:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{getAnnouncement:!0}}),t({type:v,value:{getAnnouncement:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},xe=function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{deleteAnnouncement:e}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/announcement/remove",method:"DELETE",params:{id:e},headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_ANNOUNCEMENT",value:r.data}),l.b.success("Announcement has been deleted"),a({type:g,value:{deleteAnnouncement:null}}),a({type:v,value:{deleteAnnouncement:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{deleteAnnouncement:!0}}),a({type:v,value:{deleteAnnouncement:null}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()},we=Object(i.b)((function(e){return{announcementArr:e.announcementArr,pageLoaders:e.pageLoaders}}),(function(e){return{announcementGet:function(t){return e(je())},announcementDelete:function(t){return e(xe(t))}}}))((function(e){var t=e.announcementArr,a=e.pageLoaders,c=e.announcementGet,s=e.announcementDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all announcement |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getAnnouncement?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=a.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"title"},"title"),r.a.createElement("option",{value:"text"},"text")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)}("title",e)}},"title ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"text"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.text),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteAnnouncement===e.id},r.a.createElement("button",{onClick:function(t){return s(e.id)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("button",{onClick:function(t){return O(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available announcements")),y.id&&r.a.createElement(Ne,{editing:y,setEditing:O}))})),ke=a(42),Ae=a.n(ke),Ce=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{annuncementGet:function(t){return e(je())},announcemnetAdd:function(t){return e(function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{addAnnouncement:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/announcement/add",method:"POST",data:k(e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_ANNOUNCEMENT",value:r.data}),l.b.success("Anouncement added successfully"),a({type:g,value:{addAnnouncement:!1}}),a({type:v,value:{addAnnouncement:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{addAnnouncement:!0}}),a({type:v,value:{addAnnouncement:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.annuncementGet,a=e.announcemnetAdd,c=e.pageLoaders,s=e.pageErrors,o=Object(n.useState)({title:"",text:"",imageText:"",image:""}),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({image:!1}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useRef)(null);Object(n.useEffect)((function(){t()}),[]);var h=function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))},y=i.imageText?i.imageText:Ae.a;return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),i.imageText?a(i):v(Object(m.a)(Object(m.a)({},E),{},{image:!0}))}},r.a.createElement("h1",{className:"title"},"add new announcement"),r.a.createElement("div",{className:"picture-container"},r.a.createElement("div",{className:"picture-content"},r.a.createElement("img",{src:y,alt:""}),r.a.createElement("input",{type:"file",ref:g,style:{display:"none"},accept:"imageText/*",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onloadend=Object(j.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.result,p(Object(m.a)(Object(m.a)({},i),{},{imageText:n,image:t})),v(Object(m.a)(Object(m.a)({},E),{},{image:!1}));case 3:case"end":return e.stop()}}),e)}))),a.readAsDataURL(t)}}}),r.a.createElement("div",{className:"img-overlay"},r.a.createElement("button",{type:"button",onClick:function(e){return g.current.click()}},"upload"),r.a.createElement("button",{type:"button",onClick:function(e){p(Object(m.a)(Object(m.a)({},i),{},{image:"",imageText:""}))}},"delete"))),E.image&&r.a.createElement("div",{className:"text-error"},"Please choose image by clicking the above picture")),r.a.createElement("div",{className:"form-control-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Title",id:"title",required:!0,onChange:h})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Text",id:"text",required:!0,onChange:h}))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.addAnnouncement},!0===s.addAnnouncement&&r.a.createElement("div",{className:"text-error"},"Failed to add announcement"),s.addAnnouncement&&s.addAnnouncement.msg&&r.a.createElement("div",{className:"text-error"},s.addAnnouncement.msg),r.a.createElement("button",{className:"btn btn-primary center"},"create")))),r.a.createElement("div",{className:"admin-section"},r.a.createElement(we,null)))})),De=function(){return function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{getHelps:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/help/getAllFor",method:"GET",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_HELP",value:n.data}),t({type:g,value:{getHelps:!1}}),t({type:v,value:{getHelps:!1}}),e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{getHelps:!0}}),t({type:v,value:{getHelps:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=19;break}return t({type:h}),e.abrupt("return");case 19:r&&r.data&&l.b.error(r.data.message);case 20:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},Le=function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{solveHelp:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/help/solve",method:"PUT",data:Object(m.a)({},e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:return a.sent,t({}),l.b.success("Help request has been ansewerd"),n({type:g,value:{solveHelp:!1}}),n({type:v,value:{solveHelp:!1}}),a.next=11,n(De());case 11:a.next=23;break;case 13:if(a.prev=13,a.t0=a.catch(1),n({type:g,value:{solveHelp:!0}}),n({type:v,value:{solveHelp:!1}}),c=a.t0.response,console.log(c),!c||401!==c.status){a.next=22;break}return n({type:h}),a.abrupt("return");case 22:c&&c.data&&l.b.error(c.data.message);case 23:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e,t){return a.apply(this,arguments)}}()},_e=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol,pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{helpSolve:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(Le(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.editing,a=e.setEditing,c=e.helpSolve,s=e.pageErrors,o=e.pageLoaders;Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),function(){D("body").css("overflow","auto")}}),[]);var l=function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return a({})}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"solve help")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return a({})}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:l},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control"},r.a.createElement("textarea",{rows:"10",placeholder:"Enter your solve",id:"solution",value:t.solution,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e.target.id,e.target.value)))},required:!0,className:"dark"}))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:o.solveHelp},!0===s.solveHelp&&r.a.createElement("div",{className:"text-error"},"Failed to submit request help solution"),s.solveHelp&&s.solveHelp.msg&&r.a.createElement("div",{className:"text-error"},s.solveHelp.msg),r.a.createElement("button",{className:"btn btn-primary center"},"submit")))))))})),Se=Object(i.b)((function(e){return{helpArr:e.helpArr,pageLoaders:e.pageLoaders}}),(function(e){return{helpGet:function(){return e(De())}}}))((function(e){var t=e.helpArr,a=e.pageLoaders,c=e.helpGet,s=(e.departmentDelete,Object(n.useState)([])),o=Object(d.a)(s,2),l=o[0],i=o[1],p=Object(n.useState)({type:"",text:""}),f=Object(d.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)({}),g=Object(d.a)(v,2),h=g[0],y=g[1];console.log(t),Object(n.useEffect)((function(){i(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);var O=function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(l,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(l,(function(t){return t[e]})).reverse()),i(a)};return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"Help Requests |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getHelps?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),b.text&&b.type){var a=a.filter((function(e){return e[b.type].toString().toLowerCase().includes(b.text.toLowerCase())}));i(a)}else b.type?b.text||(D("#text").focus(),i(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;E(Object(m.a)(Object(m.a)({},b),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return E(Object(m.a)(Object(m.a)({},b),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"subject"},"subject")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return O("subject",e)}},"subject ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return O("issuer",e)}},"issuer ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",{onClick:function(e){return O("issuer",e)}},"solved ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.subject),r.a.createElement("td",null,e.issuer),r.a.createElement("td",null,e.solution?r.a.createElement("div",{className:"green-dot"}):r.a.createElement("div",{className:"red-dot"})),r.a.createElement("td",{className:"action-col"},r.a.createElement("button",{onClick:function(t){return y(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available help requests")),h.id&&r.a.createElement(_e,{editing:h,setEditing:y}))})),Ue=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,helpArr:e.helpArr}}),(function(e){return{helpsGet:function(t){return e(De())},instituteGet:function(t){return e(U())},helpSolve:function(t){return e(Le(t))}}}))((function(e){var t=e.helpsGet;e.helpSolve,e.pageLoaders,e.pageErrors,e.helpArr,e.instituteGet;return Object(n.useEffect)((function(){t()}),[]),r.a.createElement("div",{className:"admin-page"},r.a.createElement("div",{className:"admin-section"},r.a.createElement(Se,null)))})),Re=Object(i.b)((function(e){return{}}),(function(e){return{}}))((function(){return r.a.createElement("main",{className:"main-container"},r.a.createElement("aside",{className:"menu-section"},r.a.createElement(Q,null)),r.a.createElement("article",{className:"content-section"},r.a.createElement(Z,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/dashboard/institute",component:Y}),r.a.createElement(o.b,{path:"/dashboard/department",component:B}),r.a.createElement(o.b,{path:"/dashboard/gradeYear",component:$}),r.a.createElement(o.b,{path:"/dashboard/announcement",component:Ce}),r.a.createElement(o.b,{path:"/dashboard/course/manage",component:fe}),r.a.createElement(o.b,{path:"/dashboard/help",component:Ue}),r.a.createElement(o.b,{path:"/dashboard/course/assistants",component:ye}),r.a.createElement(o.b,{path:"/dashboard/user/student",component:ne}),r.a.createElement(o.b,{path:"/dashboard/user/doctor",component:ce}),r.a.createElement(o.b,{path:"/dashboard/user/assistant",component:oe}),r.a.createElement(o.b,{path:"/dashboard/user/admin",component:ie}),r.a.createElement(o.a,{to:"/dashboard/institute"}))))})),Te=a(87),Ge=a.n(Te),Ye=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol}}),(function(e){return{}}))((function(e){e.isRTL,e.symbol;return r.a.createElement("div",{className:"page-loader-container"},r.a.createElement(Ge.a,{type:"Puff",color:"#fcbb3b",height:100,width:100}))})),He=(a(156),function(e,t){return function(){var a=Object(j.a)(N.a.mark((function a(n,r){var c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v,value:{changePassword:!0}}),a.prev=1,a.next=4,w()({baseURL:b,url:"/user/change-password",method:"PUT",data:k(e),headers:{Authorization:"Bearer ".concat(r().userDetails.token)}});case 4:a.sent,l.b.success("User password has been changed"),n({type:g,value:{changePassword:null}}),n({type:v,value:{changePassword:!1}}),t(!1),a.next=21;break;case 11:if(a.prev=11,a.t0=a.catch(1),n({type:g,value:{changePassword:!0}}),n({type:v,value:{changePassword:!1}}),c=a.t0.response,console.log(c),!c||401!==c.status){a.next=20;break}return n({type:h}),a.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}),Ie=Object(i.b)((function(e){return{isRTL:e.isRTL,symbol:e.symbol,pageLoaders:e.pageLoaders,pageErrors:e.pageErrors}}),(function(e){return{passwordChange:function(){var t=Object(j.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(He(a,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))((function(e){var t=e.passwordChange,a=e.pageErrors,c=e.pageLoaders,s=(e.changePassModal,e.setChangePassModal),o=Object(n.useState)(0),l=Object(d.a)(o,2),i=l[0],p=l[1];Object(n.useEffect)((function(){return D(document).scrollTop(250),D("body").css("overflow","hidden"),p(D(document).scrollTop()),D(document).scrollTop(0),function(){D(document).css("overflow","auto"),D(document).scrollTop(i)}}),[]);var f=Object(n.useState)({old_password:"",new_password:"",confirm_password:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({old_password:!1,new_password:!1,confirm_password:!1}),h=Object(d.a)(g,2),O=h[0],N=h[1],j=function(e){var t=e.target.id,a=e.target.value;y.password.test(a)?N(Object(m.a)(Object(m.a)({},O),{},Object(u.a)({},t,!1))):N(Object(m.a)(Object(m.a)({},O),{},Object(u.a)({},t,!0))),"new_password"===t&&(a===E.confirm_password?N(Object(m.a)(Object(m.a)({},O),{},{confirm_password:!1})):N(Object(m.a)(Object(m.a)({},O),{},{confirm_password:!0}))),v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:function(e){return s(!1)}}),r.a.createElement("article",{className:"modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},r.a.createElement("span",null,"Change Password")),r.a.createElement("button",{className:"modal-close-btn",onClick:function(e){return s(!1)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),function(e){for(var t in O){if(O.hasOwnProperty(t))if(O[t])return!1}return!0}()&&t(E,s)}},r.a.createElement("div",{className:"modal-form b-0"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Old Password",id:"old_password",required:!0,onChange:j}),O.old_password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters containing numbers and uppercases")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"New Password",id:"new_password",required:!0,onChange:j}),O.new_password&&r.a.createElement("div",{className:"text-error"},"must be 8 characters containing numbers and uppercases")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"password",placeholder:"Confirm New Password",id:"confirm_password",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;a===E.new_password?N(Object(m.a)(Object(m.a)({},O),{},Object(u.a)({},t,!1))):N(Object(m.a)(Object(m.a)({},O),{},Object(u.a)({},t,!0))),v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),O.confirm_password&&r.a.createElement("div",{className:"text-error"},"must be same as the new password"))),r.a.createElement("div",{className:"btns-container"},r.a.createElement(A,{condition:c.changePassword},!0===a.changePassword&&r.a.createElement("div",{className:"text-error"},"Failed to change password"),a.changePassword&&a.changePassword.msg&&r.a.createElement("div",{className:"text-error"},a.changePassword.msg),r.a.createElement("button",{className:"btn btn-primary center"},"Change")))))))})),Pe=(Object(i.b)((function(e){return{announcementArr:e.announcementArr,pageLoaders:e.pageLoaders}}),(function(e){return{announcementGet:function(t){return e(je())},announcementDelete:function(t){return e(xe(t))}}}))((function(e){var t=e.announcementArr,a=e.pageLoaders,c=e.announcementGet,s=e.announcementDelete,o=Object(n.useState)([]),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)({type:"",text:""}),b=Object(d.a)(f,2),E=b[0],v=b[1],g=Object(n.useState)({}),h=Object(d.a)(g,2),y=h[0],O=h[1];Object(n.useEffect)((function(){p(t);var e=D("thead th");e.find("i").fadeOut(),e.on("mouseover",(function(e){D(e.target).find("i").fadeIn()})),e.on("mouseleave",(function(e){D(e.target).find("i").fadeOut()}))}),[t]);return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",{className:"title"},"all announcement |"," ",r.a.createElement("button",{onClick:c},r.a.createElement("i",{className:"fa fa-refresh ".concat(a.getAnnouncement?"fa-spin":"")}))),t.length>=1&&r.a.createElement("form",{className:"search-container",onSubmit:function(e){if(e.preventDefault(),E.text&&E.type){var a=a.filter((function(e){return e[E.type].toString().toLowerCase().includes(E.text.toLowerCase())}));p(a)}else E.type?E.text||(D("#text").focus(),p(t)):D("#type").focus()}},r.a.createElement("input",{type:"search",id:"text",placeholder:"Search...",onChange:function(e){var t=e.target.id,a=e.target.value;v(Object(m.a)(Object(m.a)({},E),{},Object(u.a)({},t,a)))}}),r.a.createElement("select",{id:"type",onChange:function(e){return v(Object(m.a)(Object(m.a)({},E),{},{type:e.target.value}))}},r.a.createElement("option",{value:""},"choose one"),r.a.createElement("option",{value:"title"},"title"),r.a.createElement("option",{value:"text"},"text")),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))),t.length>=1?r.a.createElement(T.a,{autoHide:!0,autoHeight:!0,autoHeightMax:500,autoHeightMin:100},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(e){return function(e,t){var a,n=D(t.target).find("i");n.hasClass("fa-arrow-up")?(n.attr("class","fa fa-arrow-down"),a=Object(L.sortBy)(i,(function(t){return t[e]}))):(n.attr("class","fa fa-arrow-up"),a=Object(L.sortBy)(i,(function(t){return t[e]})).reverse()),p(a)}("title",e)}},"title ",r.a.createElement("i",{className:"fa fa-arrow-up"})),r.a.createElement("th",null,"text"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.text),r.a.createElement("td",{className:"action-col"},r.a.createElement(A,{effect:!1,condition:a.deleteAnnouncement===e.id},r.a.createElement("button",{onClick:function(t){return s(e.id)}},r.a.createElement("i",{className:"fa fa-close"}))),r.a.createElement("button",{onClick:function(t){return O(e)}},r.a.createElement("i",{className:"fa fa-edit"}))))}))))):r.a.createElement("div",{className:"empty-container"},r.a.createElement("p",null,"no available announcements")),y.id&&r.a.createElement(Ie,{editing:y,setEditing:O}))})),function(e){return function(){var t=Object(j.a)(N.a.mark((function t(a,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,value:{changeInfo:!0}}),t.prev=1,t.next=4,w()({baseURL:b,url:"/user/change-info",method:"PUT",data:k(e),headers:{Authorization:"Bearer ".concat(n().userDetails.token)}});case 4:r=t.sent,a({type:"REDUX_USER",value:Object(m.a)(Object(m.a)({},n().userDetails),r.data)}),l.b.success("User information has been changed"),a({type:g,value:{changeInfo:null}}),a({type:v,value:{changeInfo:!1}}),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(1),a({type:g,value:{changeInfo:!0}}),a({type:v,value:{changeInfo:!1}}),c=t.t0.response,console.log(c),!c||401!==c.status){t.next=20;break}return a({type:h}),t.abrupt("return");case 20:c&&c.data&&l.b.error(c.data.message);case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}),qe=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,userDetails:e.userDetails}}),(function(e){return{infoChange:function(t){return e(Pe(t))},announcemnetAdd:function(t){return e(Pe(t))}}}))((function(e){var t=e.infoChange,a=(e.announcemnetAdd,e.pageLoaders),c=e.pageErrors,s=e.userDetails,o=Object(n.useState)({email:"",name:"",phone:"",imageText:"",profile_image:""}),l=Object(d.a)(o,2),i=l[0],p=l[1],f=Object(n.useState)(!1),b=Object(d.a)(f,2),v=b[0],g=b[1],h=Object(n.useRef)(null);Object(n.useEffect)((function(){if(s.code){var e=s.profile_image?"".concat(E,"/").concat(s.profile_image):"";p({email:s.email,name:s.name,phone:s.phone,imageText:e})}}),[s]);var O=Object(n.useState)({email:!1,name:!1,phone:!1,profile_image:!1}),x=Object(d.a)(O,2),w=x[0],k=x[1],C=function(e){var t=e.target.id,a=e.target.value;y[t].test(a)?k(Object(m.a)(Object(m.a)({},w),{},Object(u.a)({},t,!1))):k(Object(m.a)(Object(m.a)({},w),{},Object(u.a)({},t,!0))),p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))},D=i.imageText?i.imageText:Ae.a;return console.log(s),r.a.createElement("main",{className:"main-container"},r.a.createElement("aside",{className:"menu-section"}),r.a.createElement("article",{className:"content-section"},r.a.createElement(Z,{NoBTN:!0}),r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"admin-section",onSubmit:function(e){e.preventDefault(),i.imageText?function(e){for(var t in w){if(w.hasOwnProperty(t))if(w[t])return!1}return!0}()&&t(i):k(Object(m.a)(Object(m.a)({},w),{},{profile_image:!0}))}},r.a.createElement("div",{className:"picture-container"},r.a.createElement("div",{className:"picture-content"},r.a.createElement("img",{src:D,alt:""}),r.a.createElement("input",{type:"file",ref:h,style:{display:"none"},accept:"imageText/*",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onloadend=Object(j.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.result,p(Object(m.a)(Object(m.a)({},i),{},{imageText:n,profile_image:t})),k(Object(m.a)(Object(m.a)({},w),{},{profile_image:!1}));case 3:case"end":return e.stop()}}),e)}))),a.readAsDataURL(t)}}}),r.a.createElement("div",{className:"img-overlay"},r.a.createElement("button",{type:"button",onClick:function(e){return h.current.click()}},"upload"),r.a.createElement("button",{type:"button",onClick:function(e){p(Object(m.a)(Object(m.a)({},i),{},{profile_image:"",imageText:""}))}},"delete"))),w.image&&r.a.createElement("div",{className:"text-error"},"Please choose image by clicking the above picture")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Email",id:"email",required:!0,onChange:C,style:{textAlign:"center"},value:i.email}),w.code&&r.a.createElement("div",{className:"text-error"},"must be like example@example.com")),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"name",required:!0,onChange:function(e){var t=e.target.id,a=e.target.value;p(Object(m.a)(Object(m.a)({},i),{},Object(u.a)({},t,a)))},style:{textAlign:"center"},value:i.name})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",placeholder:"Phone",id:"phone",required:!0,onChange:C,style:{textAlign:"center"},value:i.phone}),w.phone&&r.a.createElement("div",{className:"text-error"},"must be numbers only")),r.a.createElement("div",{className:"btns-container center"},r.a.createElement(A,{condition:a.changeInfo},!0===c.changeInfo&&r.a.createElement("div",{className:"text-error"},"Failed to edit user info"),c.changeInfo&&c.changeInfo.msg&&r.a.createElement("div",{className:"text-error"},c.changeInfo.msg),r.a.createElement("button",{className:"btn btn-primary center  "},"edit")),r.a.createElement("button",{type:"button",onClick:function(e){return g(!0)},className:"btn btn-danger center mx-3"},"change password"))))),v&&r.a.createElement(Ie,{changePassModal:v,setChangePassModal:g}))}));var Be=Object(i.b)((function(e){return{pageLoaders:e.pageLoaders,pageErrors:e.pageErrors,userDetails:e.userDetails}}),(function(e){return{browseHistorySet:function(t){return e({type:"REDUX_BROWSE_HISTORY",value:t})},socketSet:function(t){return e({type:"REDUX_SOCKET",value:t})},tokenCheck:function(){return e(function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v,value:{checkToken:!0}}),e.prev=1,e.next=4,w()({baseURL:b,url:"/user/checkToken",method:"PUT",headers:{Authorization:"Bearer ".concat(a().userDetails.token)}});case 4:n=e.sent,t({type:"REDUX_USER",value:n.data}),t({type:g,value:{checkToken:!1}}),t({type:v,value:{checkToken:!1}}),e.next=22;break;case 10:if(e.prev=10,e.t0=e.catch(1),t({type:g,value:{checkToken:!0}}),t({type:v,value:{checkToken:!0}}),r=e.t0.response,console.log(r),!r||401!==r.status){e.next=21;break}return t({type:h}),e.abrupt("return");case 21:t({type:v,value:{checkToken:!0}});case 22:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.pageLoaders,a=e.browseHistorySet,c=e.userDetails,s=(e.socketSet,e.tokenCheck),i=Object(o.g)();return Object(n.useEffect)((function(){a(i),s()}),[]),r.a.createElement(r.a.Fragment,null,(t.logout||t.checkToken)&&r.a.createElement(Ye,null),r.a.createElement(l.a,null),r.a.createElement(o.d,null,!c.code&&r.a.createElement(o.b,{path:"/login",exact:!0,component:C}),c.code&&r.a.createElement(o.b,{path:"/dashboard/",component:Re}),c.code&&r.a.createElement(o.b,{path:"/my-profile",component:qe}),!c.code&&r.a.createElement(o.a,{from:"*",to:"/login"}),c.code&&r.a.createElement(o.a,{from:"*",to:"/dashboard/"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=a(88),Me=a(26),ze=a(89),Fe=a(54),$e=a(90),We={pageLoaders:{},pageHelpers:{},pageErrors:{},userDetails:{},instituteArr:[],departmentArr:[],gradeYearArr:[],userArr:[],courseArr:[],browseHistory:{},courseAssistants:[],allCoursesAssistants:[],socketObj:{},announcementArr:[],helpArr:[]},Je={key:"root",storage:a.n($e).a,whitelist:["userDetails"]},Ke=Object(Fe.a)(Je,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),{},{pageLoaders:Object(m.a)(Object(m.a)({},e.pageLoaders),t.value)});case g:return Object(m.a)(Object(m.a)({},e),{},{pageErrors:Object(m.a)(Object(m.a)({},e.pageErrors),t.value)});case"REDUX_PAGE_HELPERS":return Object(m.a)(Object(m.a)({},e),{},{pageHelpers:Object(m.a)(Object(m.a)({},e.pageHelpers),t.value)});case"REDUX_USER":return Object(m.a)(Object(m.a)({},e),{},{userDetails:t.value});case"REDUX_DEPARTMENT":return Object(m.a)(Object(m.a)({},e),{},{departmentArr:t.value});case"REDUX_INSTITUTE":return Object(m.a)(Object(m.a)({},e),{},{instituteArr:t.value});case"REDUX_GRADE_YEAR":return Object(m.a)(Object(m.a)({},e),{},{gradeYearArr:t.value});case"REDUX_BROWSE_HISTORY":return Object(m.a)(Object(m.a)({},e),{},{browseHistory:t.value});case"REDUX_USERS":return Object(m.a)(Object(m.a)({},e),{},{userArr:t.value});case"REDUX_COURSE":return Object(m.a)(Object(m.a)({},e),{},{courseArr:t.value});case"REDUX_COURSE_ASSISTANT":return Object(m.a)(Object(m.a)({},e),{},{courseAssistants:t.value});case"REDUX_ALL_COURSES_ASSISTANTS":return Object(m.a)(Object(m.a)({},e),{},{allCoursesAssistants:t.value});case"REDUX_SOCKET":return Object(m.a)(Object(m.a)({},e),{},{socketObj:t.value});case"REDUX_ANNOUNCEMENT":return Object(m.a)(Object(m.a)({},e),{},{announcementArr:t.value});case"REDUX_HELP":return Object(m.a)(Object(m.a)({},e),{},{helpArr:t.value});case h:return Object(m.a)({},We);default:return Object(m.a)({},e)}})),Ze=Object(Me.d)(Ke,Object(Me.a)(ze.a)),Qe=Object(Fe.b)(Ze);a(192);s.a.render(r.a.createElement(i.a,{store:Ze},r.a.createElement(Xe.a,{persistor:Qe},r.a.createElement(K.a,null,r.a.createElement(Be,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,a){e.exports=a.p+"static/media/no-pic.3e843205.png"},66:function(e,t,a){e.exports=a.p+"static/media/no-pic2.32523e3a.png"},83:function(e,t,a){e.exports=a.p+"static/media/pic.6dbfbd41.jpg"},84:function(e,t,a){e.exports=a.p+"static/media/el-shorouk.08df9f7c.png"},94:function(e,t,a){e.exports=a(193)}},[[94,1,2]]]);
//# sourceMappingURL=main.5675516c.chunk.js.map